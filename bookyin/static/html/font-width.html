<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>出书吧--字宽</title>
    <link rel="stylesheet" href="../css/base.css" type="text/css" />
    <link rel="stylesheet" href='../css/wb-pubu.css' type="text/css" />
</head>
<body>

    <div class="book-wrapper">
        <div class="pages-wrapper">
            <div class="pages pages-odd">
                <div class="shadow"></div>
                <div class="col">
                    <ul>
                        <li class="item">
                            <a data="15" title="在列表中删除这条微博" class="btn del"> <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg"> <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">24</span>
                                <span class="dt">日</span>
                                <span class="t">22:20</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">#给你送</span>
                                    <span class="span-first-con">
                                        <span>份礼##跟风</span>
                                        <span>#其实前面</span>
                                    </span>
                                </p>
                                <p>的话题只是一个跟风，谁叫我爪机</p>
                                <p>呢？@蝴蝶蓝    送个大苹果！！</p>
                                <p>平安夜快乐www</p>
                            </div>
                        </li>
                        <li class="item">
                            <a data="16" title="在列表中删除这条微博" class="btn del">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">24</span>
                                <span class="dt">日</span>
                                <span class="t">22:52</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">呵</span>
                                    <span class="span-first-con">
                                        <span>呵我微博也刷到80条了！！</span>
                                        <span></span>
                                    </span>
                                </p>
                            </div>
                        </li>
                        <li class="item">
                            <a data="17" title="在列表中删除这条微博" class="btn del">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">24</span>
                                <span class="dt">日</span>
                                <span class="t">23:15</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">照</span>
                                    <span class="span-first-con">
                                        <span>样子每天一条总结性微博！！</span>
                                        <span>平安夜什么的苹果多到可以用</span>
                                    </span>
                                </p>
                                <p>来堆雪人，刷boss这种事每到深夜</p>
                                <p>都令人揪心，就算是圣诞活动也不</p>
                                <p>例外。很多荣耀职业选手都陆续开</p>
                                <p>了微博，我想知道你们是怎么刷粉</p>
                                <p>的？难道是我太吵以至于掉了粉？</p>
                                <p>？果然在Q群上各位大神不顾形��</p>
                                <p>�地集体吐槽什么的也就算了，还</p>
                                <p>跑去YY唱歌？？</p>
                            </div>
                        </li>
                        <li class="item">
                            <a data="18" title="在列表中删除这条微博" class="btn del">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">25</span>
                                <span class="dt">日</span>
                                <span class="t">06:36</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">w</span>
                                    <span class="span-first-con">
                                        <span>e wish you a merry</span>
                                        <span>christmas, we wish</span>
                                    </span>
                                </p>
                                <p>you a merry christmas w</p>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col">
                    <ul>
                        <li class="item">
                            <div class="con-item">
                                <p>不如去打麻将。被吐槽就要淡定，</p>
                                <p>要淡定啊！（最不淡定的是你吧）</p>
                                <p>中枪的话也要一笑而过！最好来场</p>
                                <p>帅气的pk吧兄弟们！</p>
                            </div>
                        </li>
                        <li class="item">
                            <a class="btn del" title="在列表中删除这条微博" data="25">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">27</span>
                                <span class="dt">日</span>
                                <span class="t">19:16</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">好</span>
                                    <span class="span-first-con">
                                        <span>撑好撑好撑好撑，今天食堂的</span>
                                        <span>饭真是不错，换师傅了？！哎</span>
                                    </span>
                                </p>
                                <p>呀！要不是下那么大的雨出去跑跑</p>
                                <p>步也不错啊。我去！脚抽筋了...</p>
                                <p>看来这下连走路都很吃力了。雨天</p>
                                <p>路滑！！</p>
                            </div>
                        </li>
                        <li class="item">
                            <a class="btn del" title="在列表中删除这条微博" data="26">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">29</span>
                                <span class="dt">日</span>
                                <span class="t">13:00</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">喵</span>
                                    <span class="span-first-con">
                                        <span>喵喵喵喵喵喵喵喵喵喵喵喵喵喵</span>
                                        <span>喵喵喵喵喵喵喵喵喵喵喵喵喵喵</span>
                                    </span>
                                </p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵</p>
                            </div>
                        </li>
                        <li class="item">
                            <a class="btn del" title="在列表中删除这条微博" data="27">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">29</span>
                                <span class="dt">日</span>
                                <span class="t">22:36</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">总</span>
                                    <span class="span-first-con">
                                        <span>结，今天是荣耀职业选手小元</span>
                                        <span>旦【也许】晚会什么的，总之</span>
                                    </span>
                                </p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="pages pages-even">
                <div class="shadow"></div>
                <div class="col">
                    <ul>
                        <li class="item">
                            <a class="btn del" title="在列表中删除这条微博" data="26">
                                <i></i>
                                <span>删除</span>
                            </a>
                            <div class="post-time">
                                <span class="bg">
                                    <i></i>
                                </span>
                                <span class="y">2012</span>
                                <span class="yt">年</span>
                                <span class="m">12.</span>
                                <span class="mt">月</span>
                                <span class="d">29</span>
                                <span class="dt">日</span>
                                <span class="t">13:00</span>
                            </div>
                            <div class="con-item">
                                <p>
                                    <span class="span-first">喵</span>
                                    <span class="span-first-con">
                                        <span>喵喵喵喵喵喵喵喵喵喵喵喵喵喵</span>
                                        <span>喵喵喵喵喵喵喵喵喵喵喵喵喵喵</span>
                                    </span>
                                </p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p>喵喵喵喵喵喵喵喵喵喵喵喵喵喵喵</p>
                                <p id="J_testLine"><span></span></p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
<script src="../js/jquery-1.9.1.min.js"></script>
<script>
(function(){
var data = ['我','!','，'];
var result = [];
var lineWidth = 180;
var testItem = $('#J_testLine span');
for(var i=0, len = data.length; i<len; i++){
    var item = data[i];
    var itemW = testItem.width();
    testItem.append(item);
    while(itemW<lineWidth){
        testItem.append(item);
        itemW = testItem.width();
    }
    //data
    var num = testItem.text().length-1;
    var obj = {str: item, num:num, lineW: lineWidth, perW: parseInt(itemW/num) };
    result.push(obj);
    //clean
    testItem.text('');
}
console.log(result);


})();
</script>
</body>
</html>