<!DOCTYPE html>
<html>
<head>
  <title>upload test</title>
  <meta charset="utf-8" />
  <style>
  </style>
</head>
<body>
  <p>上传文件</p>
  <input id="fileupload" type="file" name="files" />


<script src="js/jquery-1.9.1.min.js"></script>
<script src="js/vendor/jquery.ui.widget.js"></script>
<script src="js/jquery.iframe-transport.js"></script>
<script src="js/jquery.fileupload.js"></script>
<script>
$(function () {
/*
上传插件基本使用：
1.如果需要自动上传，则不要加add方法
2.添加fail、done方法
  ·当上传路径404时，高级浏览器会触发fail方法，而ie则会触发done方法，通过判断done的data返回值，来判断是否上传成功。
3.进度条：高级浏览器支持，IE10即以下不支持，会直接从0-100。
ps:https://github.com/blueimp/jQuery-File-Upload/wiki/Browser-support
4.格式判断：通过文件名的后缀来进行一次判断。
5.其他

PS：IE并非会用ajax上传，而是使用iframe模拟实现的。
*/

    $('#fileupload').fileupload({
        dataType: 'json',
        // url: 'server/php/',
        url: 'a.php',
        progressInterval: 10,
        // add: function(e, data){
        //   console.log('add',e,data);
        // },
        progress: function(e, data){
          // console.log(data);
          var progress = parseInt(data.loaded / data.total * 100, 10);
          console.log(progress);
        },
        fail: function(e, data){
          console.log('fail',e,data);
        },
        done: function (e, data) {
            // console.log('done',e,data);
            console.log('done',data);

            // $.each(data.result.files, function (index, file) {
            //     $('<p/>').text(file.name).appendTo(document.body);
            // });
        }

    });
});
</script>
</body>
</html>